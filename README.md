## Social Network Image Saver ##
--------------------------------------
_Программа загрузки изображений из соцсетей в облачные сервисы._

> Поддерживает работу со следующими соцсетями и облачными сервисами:
> - ВКонтакте ([vk.com](http://vk.com))
> - Yandex ([disk.yandex.ru](http://disk.yandex/ru))
> 
  
--------------------------------------
### Технические требования ###

На компьютере должен быть установлен интерпритатор языка программирования Python не ниже версии 3.6

**Программные модули:**

Для корректной работы программы необходимы следующие файлы:

> + snis.py 
> + snis.ini 
> + abstract.py
> + apps.py 
> + socials.py
> + clouds.py

Список зависимостей для корректной работы программы (библиотек Python) указан в файле _requirements.txt_

--------------------------------------
### Запуск и настройка программы ###

Главный файл программы _snis.py_
Запуск программы осуществляется командой:
```
python snis.py
```
**Аргументы командной строки, для управления настройками программы:**
```
--file, имя ini-файла с параметрами программы (по умолчанию snis.ini)  
--count, кол-во фотографий для загрузки
--source, социальная сеть (по умолчанию определяется в ini файле)
--id, id (имя) пользователя соцсети
--folder, наименование каталога для временных файлов и папки в облачном хранилище
--log, имя log-файла, если не задано и нет в ini-файле, то лог не ведется
```
**Основные настройки программы указываются в ini файле, по умолчанию snis.ini.**

Если параметры работы программы не указываюся в аргументах командной строки,
при запуске программы, то действуют следующие настройки:
```
[Main]
SocialNetwork=VK
CloudDisk=YA
Count=5
DownloadFolder=tmp
LogFile=snis.log
[VK]
url=https://api.vk.com/method/
TokenFile=vk.token
UserID=24072898
[YA]
url=https://cloud-api.yandex.net/v1/disk/resources
TokenFile=ya.token
```
Обязательная секция настроек [Main]

> SocialNetwork - *тип социальной сети (по умолчанию VK - ВКонтакте)*
> 
> CloudDisk - *тип облачного хранилища (по умолчанию YA - yandex.disk)*
> 
> Count - *количество фотографий для загрузки (по умолчанию 5)*
> 
> DownloadFolder - *наименование папки для загрузки фотографий (по умолчанию - tmp)*
> 
> LogFile - *имя файла дл сохранения лога работы программы (по умолчанию - snis.log)*
> 

Дополнительные секции описывают настройки соцсетей и облачных сервисов.

Секция [VK]

> url - *адрес работы api сервиса (https://api.vk.com/method/)*
> 
> TokenFile - *имя файла содержащего сеансовый токен, для работы с api сервиса (vk.token)*
> 
> UserID - *цифровой id или имя пользователя соцсеци ВКонтакте*
> 

Секция [YA]

> url - *адрес работы api сервиса (https://cloud-api.yandex.net/v1/disk/resources)*
> 
> TokenFile - *имя файла содержащего сеансовый токен, для работы с api сервиса (ya.token)*

Результаты работы программы фиксируются в log файле (по умолчанию snis.log) и выводятся на экран.

Во временную папку на компьютере (и при последующей загрузке в облачное хранилище) сохраняется
файл photos.json, в который сохраняется информация о загруженных файлах и данных о качестве фотографий.
```
[{"file_name": "17-3b7pxN3vzmI.jpg", "size": "x"}]
```
Имя загружаемых файлов из соцсети формируется на основе количества лайков фотографии и технического
имени файла в соцсети, для того чтобы не допускать перезаписи файлов с фотографиями при сохранении
во временную папку на ПК.

--------------------------------------
### Структура программного кода и модулей программы ###

> abstract.py

Определяет два класса: 
* родительский класс *AbstractObject* от которого наследуются остальные классы
* класс *LogFileObject* для операций по выводу на экран и в файл статусов работы программы

> apps.py

Определяет базовый класс приложения *Application* в котором закладывается функционал загрузки
параметров программы из ini файла и обновление настроек полученных из ini файла.

> socials.py

Определяет базовый класс *SocialNetwork* для работы с соцсетями. Включает в себя набор 
методов для загрузки из файла *Токена* и загрузки фотографий на ПК.

> clouds.py

Определяет базовый класс *CloudStorage* для работы с облачными хранилищами. Включает в себя набор 
методов для загрузки из файла *Токена* и загрузки фотографий из локальной папки в облачное хранилище.

> snis.py

Основной файл реализующий логику работы программы.
От базовых классов наследуются специализированные классы:
* SocialVK(SocialNetwork) для работы с соцсетью ВКонтакте
* YandexCloud(CloudStorage) для работы с облачным хранилищем yandex.cloud
* snisApplication(apps.Application) в методе *run* реализует основную логику приложения
